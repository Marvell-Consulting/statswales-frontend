<div class="govuk-accordion__section">
    <div class="govuk-accordion__section-header">
        <h2 class="govuk-accordion__section-heading">
                                <span class="govuk-accordion__section-button" id="accordion-default-heading-4">
                                  <%= t('developer.display.dimension') %>
                                </span>
        </h2>
    </div>
    <div id="accordion-default-content-4" class="govuk-accordion__section-content">
        <div class="govuk-grid-row">
            <div class="govuk-grid-column-full">
                <table class="govuk-table dimension-table">
                    <thead>
                    <tr>
                        <th scope="col" class="govuk-table__header"><%- t('developer.display.id') %></th>
                        <th scope="col" class="govuk-table__header"><%- t('developer.display.type') %></th>
                        <th scope="col" class="govuk-table__header"><%- t('developer.display.fact_table_column') %></th>
                        <th scope="col" class="govuk-table__header"><%- t('developer.display.join_column') %></th>
                    </tr>
                    </thead>
                    <tbody>
                    <% locals.dataset?.dimensions?.forEach((dim) => { %>
                        <tr>
                            <td class="govuk-table__cell" rowspan="2"><%= dim.id %></td>
                            <td class="govuk-table__cell"><%= dim.type %></td>
                            <td class="govuk-table__cell"><%= dim.factTableColumn%></td>
                            <td class="govuk-table__cell"><%= dim.joinColumn %></td>
                            <td class="govuk-table__cell">

                            </td>
                        </tr>
                        <tr>
                            <th class="govuk-table__cell" scope="row"><%- t('developer.display.extractor') %></td>
                            <td colspan="2" class="govuk-table__cell"><details class="govuk-details" data-module="govuk-details">
                                    <summary class="govuk-details__summary">
                                                        <span class="govuk-details__summary-text">
                                                            <%= t('developer.display.show_extractor') %>
                                                        </span>
                                    </summary>
                                    <pre><code><%= JSON.stringify(dim.extractor, null, 2)%></code></pre>
                                </details></td>
                        </tr>
                    <% });%>
                    </tbody>
                </table>
            </div>
        </div>
        <div class="govuk-grid-row">
            <div class="govuk-grid-column-one-full">
                <details class="govuk-details" data-module="govuk-details">
                    <summary class="govuk-details__summary">
                                            <span class="govuk-details__summary-text">
                                                <%= t('developer.display.show_metadata') %>
                                            </span>
                    </summary>
                    <table class="govuk-table dimension-table">
                        <thead>
                        <tr>
                            <th scope="col" class="govuk-table__header"><%- t('developer.display.id') %></th>
                            <th scope="col" class="govuk-table__header"><%- t('developer.display.fact_table_column') %></th>
                            <th scope="col" class="govuk-table__header"><%- t('developer.display.name') %></th>
                            <th scope="col" class="govuk-table__header"><%- t('developer.display.description') %></th>
                            <th scope="col" class="govuk-table__header"><%- t('developer.display.notes') %></th>
                        </tr>
                        </thead>
                        <tbody>
                        <% locals.dataset?.dimensions?.forEach((dim) => { %>
                            <tr>
                                <td class="govuk-table__cell"><%= dim.id %></td>
                                <td class="govuk-table__cell"><%= dim.factTableColumn%></td>
                                <td class="govuk-table__cell"><%= dim.metadata.name %></td>
                                <td class="govuk-table__cell"><%= dim.metadata.description %></td>
                                <td class="govuk-table__cell"><%= dim.metadata.notes%></td>
                            </tr>
                        <% });%>
                        </tbody>
                    </table>
                </details>
            </div>
        </div>

        <style>
          .dimension-table td {
            padding-top: 10px;
            padding-bottom: 10px;
          }

          .dimension-table details {
            border: none !important;
            padding: 0 !important;
          }
        </style>
    </div>
</div>
