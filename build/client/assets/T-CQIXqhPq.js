import{I as F,g as k,R as G,a as $,j as E}from"./context-Zvpbq3dQ.js";import{r as N}from"./chunk-DQRVZFIR-CI4QRDf9.js";const U=(e,n,s,r)=>{var t,c,u,w;const o=[s,{code:n,...r||{}}];if((c=(t=e==null?void 0:e.services)==null?void 0:t.logger)!=null&&c.forward)return e.services.logger.forward(o,"warn","react-i18next::",!0);p(o[0])&&(o[0]=`react-i18next:: ${o[0]}`),(w=(u=e==null?void 0:e.services)==null?void 0:u.logger)!=null&&w.warn?e.services.logger.warn(...o):console!=null&&console.warn&&console.warn(...o)},z={},S=(e,n,s,r)=>{p(s)&&z[s]||(p(s)&&(z[s]=new Date),U(e,n,s,r))},_=(e,n)=>()=>{if(e.isInitialized)n();else{const s=()=>{setTimeout(()=>{e.off("initialized",s)},0),n()};e.on("initialized",s)}},C=(e,n,s)=>{e.loadNamespaces(n,_(e,s))},O=(e,n,s,r)=>{if(p(s)&&(s=[s]),e.options.preload&&e.options.preload.indexOf(n)>-1)return C(e,s,r);s.forEach(o=>{e.options.ns.indexOf(o)<0&&e.options.ns.push(o)}),e.loadLanguages(n,_(e,r))},H=(e,n,s={})=>!n.languages||!n.languages.length?(S(n,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:n.languages}),!0):n.hasLoadedNamespace(e,{lng:s.lng,precheck:(r,o)=>{var t;if(((t=s.bindI18n)==null?void 0:t.indexOf("languageChanging"))>-1&&r.services.backendConnector.backend&&r.isLanguageChangingTo&&!o(r.isLanguageChangingTo,e))return!1}}),p=e=>typeof e=="string",J=e=>typeof e=="object"&&e!==null,W=(e,n)=>{const s=N.useRef();return N.useEffect(()=>{s.current=e},[e,n]),s.current},M=(e,n,s,r)=>e.getFixedT(n,s,r),X=(e,n,s,r)=>N.useCallback(M(e,n,s,r),[e,n,s,r]),Y=(e,n={})=>{var b,A,L,v;const{i18n:s}=n,{i18n:r,defaultNS:o}=N.useContext(F)||{},t=s||r||k();if(t&&!t.reportNamespaces&&(t.reportNamespaces=new G),!t){S(t,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const i=(l,d)=>p(d)?d:J(d)&&p(d.defaultValue)?d.defaultValue:Array.isArray(l)?l[l.length-1]:l,f=[i,{},!1];return f.t=i,f.i18n={},f.ready=!1,f}(b=t.options.react)!=null&&b.wait&&S(t,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const c={...$(),...t.options.react,...n},{useSuspense:u,keyPrefix:w}=c;let a=o||((A=t.options)==null?void 0:A.defaultNS);a=p(a)?[a]:a||["translation"],(v=(L=t.reportNamespaces).addUsedNamespaces)==null||v.call(L,a);const g=(t.isInitialized||t.initializedStoreOnce)&&a.every(i=>H(i,t,c)),P=X(t,n.lng||null,c.nsMode==="fallback"?a:a[0],w),I=()=>P,h=()=>M(t,n.lng||null,c.nsMode==="fallback"?a:a[0],w),[R,y]=N.useState(I);let T=a.join();n.lng&&(T=`${n.lng}${T}`);const j=W(T),m=N.useRef(!0);N.useEffect(()=>{const{bindI18n:i,bindI18nStore:f}=c;m.current=!0,!g&&!u&&(n.lng?O(t,n.lng,a,()=>{m.current&&y(h)}):C(t,a,()=>{m.current&&y(h)})),g&&j&&j!==T&&m.current&&y(h);const l=()=>{m.current&&y(h)};return i&&(t==null||t.on(i,l)),f&&(t==null||t.store.on(f,l)),()=>{m.current=!1,t&&(i==null||i.split(" ").forEach(d=>t.off(d,l))),f&&t&&f.split(" ").forEach(d=>t.store.off(d,l))}},[t,T]),N.useEffect(()=>{m.current&&g&&y(I)},[t,w,g]);const x=[R,t,g];if(x.t=R,x.i18n=t,x.ready=g,g||!g&&!u)return x;throw new Promise(i=>{n.lng?O(t,n.lng,a,()=>i()):C(t,a,()=>i())})};function D({children:e,fallback:n,className:s,raw:r,...o}){const{t}=Y(),c=Array.isArray(e)?e.join(""):e,u=t(c,o);return n&&u===c?E.jsx("span",{className:s,children:n}):r?E.jsx("span",{className:s,dangerouslySetInnerHTML:{__html:u}}):E.jsx("span",{className:s,children:u})}export{D as T,Y as u};
